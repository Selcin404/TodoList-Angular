<!-- SayfanÄ±n ana container'Ä± -->
<div class="container" [class.dark-theme]="isDarkMode">
  <!-- Ãœst kÄ±sÄ±m: BaÅŸlÄ±k ve ikonlar -->
  <div class="header">
    <h1>ğŸ“’ Todo List </h1>

    <!-- Tema deÄŸiÅŸtirme butonu -->
    <button class="theme-btn" (click)="toggleTheme()">
      {{ isDarkMode ? "ğŸŒ Light Mode" : "ğŸŒ™ Dark Mode" }}
    </button>
  </div>

  <!-- GÃ¶rev ekleme alanÄ± -->
  <div class="input-group">
    <input type="text" [(ngModel)]="newTask" placeholder="Yeni gÃ¶rev ekle..." />
    <input type="date" [(ngModel)]="taskDueDate" />
    <button (click)="addTask()">Ekle</button>
  </div>

  <!-- SÄ±ralama seÃ§eneÄŸi -->
  <!-- SÄ±ralama seÃ§eneÄŸi -->
  <div class="sorting-group">
    <label for="sortSelect">ğŸ“… SÄ±rala:</label>
    <select id="sortSelect" [(ngModel)]="sortBy" (change)="sortTasks()">
      <option value="added">Eklenme Tarihine GÃ¶re</option>
      <option value="due">Son Teslim Tarihine GÃ¶re</option>
    </select>
  </div>

  <!-- GÃ¶rev listesi -->
  <ul>
    <li
      *ngFor="let task of tasks; let i = index"
      [class.completed]="task.completed"
    >
      <!-- Checkbox ile tamamlandÄ± iÅŸaretleme -->
      <input
        type="checkbox"
        [checked]="task.completed"
        (change)="toggleTaskCompleted(task)"
      />

      <!-- EÄŸer dÃ¼zenleme modunda deÄŸilse, metni gÃ¶ster -->
      <span *ngIf="editingIndex !== i">{{ task.title }}</span>

      <!-- EÄŸer dÃ¼zenleme modundaysa, input kutusunu gÃ¶ster -->
      <input
        *ngIf="editingIndex === i"
        [(ngModel)]="editTaskText"
        class="edit-input"
      />

      <!-- GÃ¶rev tarihini gÃ¶ster -->
      <span *ngIf="task.dueDate">
        (Son tarih: {{ task.dueDate | date : "shortDate" }})</span
      >

      <!-- DÃ¼zenleme butonu (Edit) -->
      <button class="edit-btn" (click)="editTask(i)" *ngIf="editingIndex !== i">
        âœï¸
      </button>

      <!-- Kaydetme butonu (Save) -->
      <button class="save-btn" (click)="saveTask(i)" *ngIf="editingIndex === i">
        ğŸ’¾
      </button>

      <!-- Ä°ptal butonu (Cancel) -->
      <button
        class="cancel-btn"
        (click)="cancelEdit()"
        *ngIf="editingIndex === i"
      >
        âŒ
      </button>

      <!-- Silme butonu (Delete) -->
      <button class="delete-btn" (click)="deleteTask(task)">ğŸ—‘ï¸</button>
    </li>
  </ul>
</div>
